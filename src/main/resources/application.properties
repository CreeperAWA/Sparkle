#
#  @ALERT@
#  THIS FILE IS UNDER /src/main/resources directory
#  AND IT CAN BE PUSH TO GITHUB REMOTE FOR PUBLIC
#  !!!!DO NOT FILL TOKEN AND CREDENTIALS IN THIS FILE!!!!
#

# Sparkle Basic Settings
spring.application.name=Sparkle
spring.threads.virtual.enabled=true
sparkle.root=https://btn-sparkle.ghostchu-services.top

# Http Server Settings
server.address=0.0.0.0
server.port=7799
server.compression.enabled=true
server.http2.enabled=true

## Thymeleaf Settings
spring.thymeleaf.cache=true
spring.thymeleaf.encoding=UTF-8

# Database&ORM Settings
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.url=jdbc:postgresql://localhost:5432/sparkledb
spring.datasource.username=sparkleusr
spring.datasource.password=sparklepwd
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.database=0
spring.data.redis.timeout=10s
spring.data.redis.jedis.pool.enabled=true

# Flyway Migration
spring.flyway.enabled=true
spring.flyway.validate-on-migrate=true
spring.flyway.locations=classpath:db/migration/pgsql

# GitHub OAuth Settings
oauth2.github.client-id=
oauth2.github.client-secret=
oauth2.github.scope=read:user user:email

# Sa-Token Settings
sa-token.token-name=X-BTN-Token
sa-token.timeout=2592000
sa-token.is-concurrent=true
sa-token.token-style=uuid
sa-token.is-log=true

# Metrics
management.endpoints.web.exposure.include=*

# Sparkle Service
service.banhistory.untrustipgenerate.threshold=3
service.banhistory.untrustipgenerate.offset=1209600000
service.ping.protocol.max-version=7
service.ping.protocol.min-version=7
service.ping.ability.submitbans.interval=900000
service.ping.ability.submitbans.endpoint=${sparkle.root}/ping/bans/submit
service.ping.ability.submitbans.random-initial-delay=600000
service.ping.ability.submitpeers.interval=900000
service.ping.ability.submitpeers.endpoint=${sparkle.root}/ping/peers/submit
service.ping.ability.submitpeers.random-initial-delay=600000
service.ping.ability.reconfigure.interval=900000
service.ping.ability.reconfigure.random-initial-delay=600000
service.ping.ability.cloudrule.interval=900000
service.ping.ability.cloudrule.endpoint=${sparkle.root}/ping/rules/retrieve
service.ping.ability.cloudrule.random-initial-delay=600000
service.userapplication.user-max-apps=300